#!/bin/bash

# Configure sub-command Name
new_Accent="nyaa" # new command creates project
delete_Accent="nyee" # delete command deletes project
list_Accent="list" # list command, list available template

# DO NOT TOUCH
condition="$1"
message="$1"
Lang="$2"
ProjectName="$3"
date="$(date +"%I:%M:%S %p")"
curdir="$(pwd)"
ProjectName2=""$ProjectName"_"$date""

easter_eggs() {
    echo " /\_/\ "
    echo "( o.o ) Nyaa"
    echo " > ^ <"
}

init_git() {
        git init
        git branch -m master development
        git add .
        git commit -m "Create development Branch"
        git branch release
}

commit_git() {
    git add .
    git commit -m "$message"
}

# Main Logic
if [[ "$condition" = "$new_Accent" ]]; then

    if [[ -d "$curdir/$ProjectName" ]]; then
        echo "nyaaaaaa $ProjectName2..."
        mkdir -p "$curdir/$ProjectName2"
        cp -r ~/.config/MonyekaTemplates/"$Lang"/* "$curdir/$ProjectName2/"
        echo "nyaa."
        cd "$curdir/$ProjectName2"
        init_git
        cd ..
        exit 1
    else
        echo "nyaaaaaa $ProjectName..."
        mkdir -p "$curdir/$ProjectName"
        cp -r ~/.config/MonyekaTemplates/"$Lang"/* "$curdir/$ProjectName/"
        echo "nyaa."
        cd "$curdir/$ProjectName"
        init_git
        cd ..
        exit 0
    fi

elif [[ "$condition" = "$delete_Accent" && -n "$2" ]]; then
    echo "nyeeeeee $2..."
    sudo rm -r "$curdir/$2"
    echo "nyee."
    exit 1
elif [[ "$condition" = "$list_Accent" ]]; then
    ls ~/.config/MonyekaTemplates
    exit 0
elif [[ -n "$condition" && -z "$2" ]]; then
    commit_git
    exit 0
elif [[ -z "$condition" ]]; then
    easter_eggs
    exit 0
fi



